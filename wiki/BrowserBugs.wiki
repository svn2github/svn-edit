#summary A list of browser bugs related to SVG-edit.

<wiki:toc max_depth="3" />

= Introduction =

While working on SVG-edit, a number of SVG-related browser bugs were encountered. This page serves to highlight these bugs so they can hopefully be fixed in future versions by the browser makers.

= Bugs =

== Firefox ==

=== SVG Files in data: cannot reference elements internally ===

If you click 'Save' in the browser-based editor, Firefox will show all gradients as black and all markers will be invisible.  This is because Firefox doesn't support fragment URIs within a data: URI.

*Version(s):* 4.0-

*Bug Report:* https://bugzilla.mozilla.org/show_bug.cgi?id=308590

*Workaround in SVG-edit:* Not possible.

=== Symbol elements cannot reference elements internally ===

Importing an image with a symbol element that includes gradients results in all the gradient-filled elements being black. 

*Version(s):* 4.0-

*Bug Report:* https://bugzilla.mozilla.org/show_bug.cgi?id=353575

*Workaround in SVG-edit:* None yet

=== Group Opacity has terrible performance ===

*Problem:* When an image has many elements with the opacity attribute set to values less than 1.0, the image (and the editor) cause Firefox to become very slow.

*Version(s):* 3.5-

*Bug Report:* https://bugzilla.mozilla.org/show_bug.cgi?id=309782

Other bugs related to Bug 309782:
 * https://bugzilla.mozilla.org/show_bug.cgi?id=523481
 * https://bugzilla.mozilla.org/show_bug.cgi?id=524089

*Workaround in SVG-edit:* Not really.  One option is to avoid using the group_opacity control and change the stroke-opacity and fill-opacity instead.

=== Rotating text element with gradient ===

*Problem:* When a text element has a gradient set and is rotated, the individual glyphs are incorrectly repositioned.

*Version(s):* 3.5/Mac 

*Bug report:* https://bugzilla.mozilla.org/show_bug.cgi?id=519472

*Workaround in SVG-edit:* No, does not appear possible.

== Opera ==

=== Does not support the W3C File API ===

*Problem:* Cannot open local files in the browser version of SVG-edit in Opera.

*Workaround:* Use the widget version.

== Webkit ==

=== Path Segments and Points Normalized ===

*Problem:* Webkit internally normalizes path segments and point lists and does not provide the original string.

*Version(s):* All, Safari & Chrome

*Bug reports:* 
 * https://bugs.webkit.org/show_bug.cgi?id=26487
 * https://bugs.webkit.org/show_bug.cgi?id=29870

*Workaround in SVG-edit:* Handle all path segment types and check if commas are present in the point list.

=== Relative Path Segments Cannot be Added/Removed ===

*Problem:* Manipulating segments using insertItemBefore, removeItem, etc fail to actually affect path elements made of relative segments.

*Version(s):* All, Safari & Chrome

*Bug reports:* 
 * https://bugs.webkit.org/show_bug.cgi?id=30219

*Workaround in SVG-edit:* Convert all paths to use absolute segments.

=== Matrix Multiplication Incorrect ===

*Problem:* WebKit does not multiply two SVGMatrix objects together properly.

*Bug reports:*
 * https://bugs.webkit.org/show_bug.cgi?id=16062

*Workaround in SVG-edit:* Do the matrix multiplication ourselves.

=== @transform value is unreliable ===

*Problem:* WebKit changes the value of the @transform attribute just by accessing an element's SVGTransformList.

*Bug reports:*
 * https://bugs.webkit.org/show_bug.cgi?id=31119

*Workaround in SVG-edit:* Implement our own "shim" version of SVGTransformList

=== Does not support the W3C File API ===

*Problem:* Cannot open local files in browser-based version of SVG-edit

*Bug Reports:*
  * https://bugs.webkit.org/show_bug.cgi?id=32624

*Workaround:* Copy contents of file and paste in via SVG-edit source editor

= Missing SVG support desired in SVG-edit =

== Internet Explorer ==

  * *Feature:* Native support of SVG, *Version(s):* IE8-, *Workaround:* For all versions prior to IE9, use the Google Chrome Frame plugin.  For IE9, wait and see.

== Firefox == 

  * *Feature:* SMIL (animation), *Version(s):* All, *Workaround:* None
  * *Feature:* SVG Text Selection, *Version(s):* All, *Workaround:* None
  * *Feature:* Non-Scaling-Stroke, *Version(s):* All, *Workaround:* None, https://bugzilla.mozilla.org/show_bug.cgi?id=528332

== Webkit ==

  * *Feature:* SVG Filters, *Version(s):* Safari 4-, Chrome 4-, *Workaround:* Wait, SVG Filters are now implemented in the WebKit trunk
  * *Feature:* Save as SVG in Safari, *Version:* Windows, *Workaround:* None, https://bugs.webkit.org/show_bug.cgi?id=25265
  * *Feature:* Non-Scaling-Stroke, *Version(s):* All, *Workaround:* None, https://bugs.webkit.org/show_bug.cgi?id=31438