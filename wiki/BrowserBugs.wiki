#summary A list of browser bugs related to SVG-edit.

<wiki:toc max_depth="3" />

= Introduction =

While working on SVG-edit, a number of SVG-related browser bugs were encountered. This page serves to highlight these bugs so they can hopefully be fixed in future versions by the browser makers.

= Bugs =

== Firefox ==

=== Group Opacity has terrible performance ===

*Problem:* When an image has many elements with the opacity attribute set to values less than 1.0, the image (and the editor) cause Firefox to become very slow.

*Version(s):* 3.5-

*Bug Report:* https://bugzilla.mozilla.org/show_bug.cgi?id=309782

Other bugs related to Bug 309782:
 * https://bugzilla.mozilla.org/show_bug.cgi?id=523481
 * https://bugzilla.mozilla.org/show_bug.cgi?id=524089

*Workaround in SVG-edit:* Not really.  One option is to avoid using the group_opacity control and change the stroke-opacity and fill-opacity instead.

=== Rotating text element with gradient ===

*Problem:* When a text element has a gradient set and is rotated, the individual glyphs are incorrectly repositioned.

*Version(s):* 3.5/Mac 

*Bug report:* https://bugzilla.mozilla.org/show_bug.cgi?id=519472

*Workaround in SVG-edit:* No, does not appear possible.

== Opera ==

=== Cloning elements with float values in attributes ===

*Problem:* When an element is cloned using .cloneNode(), any attributes of the clone with a float value has its value changed to use a comma rather than a period (i.e. 5.5 becomes 5,5). The result is that the element has invalid attribute values and fails to render properly or at all.

*Version(s):* 10/Win XP/Non-English locales

*Bug report:* Unknown

*Workaround in SVG-edit:* Yes, elements are cloned manually.

=== Re-saving previously imported/saved SVG markup ===

*Problem:* Since .importNode() is used to import/save the SVG markup entered in the source, the same problem occurs as with .cloneNode(). Any attributes of elements with float values have their value changed to use commas rather than periods (i.e. 5.5 becomes 5,5). The result is that these elements have invalid attribute values and fails to render properly or at all.

*Version(s):* 10/Win XP/Non-English locales

*Bug report:* Unknown

*Workaround in SVG-edit:* Yes, we traverse through the original XML and copy the correct attribute values whenever necessary.

=== Group bbox not correct when contents have moved ===

*Problem:* Calling getBBox() on a bounding box whose contents have moved results in an incorrect bbox.  The returned bbox is the union of the bbox before the elements moved and the region after the elements moved.

*Version(s):* 10.10 on OSX and Ubuntu (at least)

*Bug report:* Unknown

*Workaround in SVG-edit:* None yet known.  This causes Issue 374.

== Webkit ==

=== Path Segments and Points Normalized ===

*Problem:* Webkit internally normalizes path segments and point lists and does not provide the original string.

*Version(s):* All, Safari & Chrome

*Bug reports:* 
 * https://bugs.webkit.org/show_bug.cgi?id=26487
 * https://bugs.webkit.org/show_bug.cgi?id=29870

*Workaround in SVG-edit:* Handle all path segment types and check if commas are present in the point list.

=== Relative Path Segments Cannot be Added/Removed ===

*Problem:* Manipulating segments using insertItemBefore, removeItem, etc fail to actually affect path elements made of relative segments.

*Version(s):* All, Safari & Chrome

*Bug reports:* 
 * https://bugs.webkit.org/show_bug.cgi?id=30219

*Workaround in SVG-edit:* Convert all paths to use absolute segments.

=== Matrix Multiplication Incorrect ===

*Problem:* WebKit does not multiply two SVGMatrix objects together properly.

*Bug reports:*
 * https://bugs.webkit.org/show_bug.cgi?id=16062

*Workaround in SVG-edit:* Do the matrix multiplication ourselves.

=== @transform value is unreliable ===

*Problem:* WebKit changes the value of the @transform attribute just by accessing an element's SVGTransformList.

*Bug reports:*
 * https://bugs.webkit.org/show_bug.cgi?id=31119

*Workaround in SVG-edit:* Implement our own "shim" version of SVGTransformList

= Missing SVG support desired in SVG-edit =

== Internet Explorer ==

  * *Feature:* Native support of SVG, *Version(s):* All, *Workaround:* Use the Google Chrome Frame plugin

== Firefox == 

  * *Feature:* SMIL (animation), *Version(s):* All, *Workaround:* None
  * *Feature:* SVG Text Selection, *Version(s):* All, *Workaround:* None
  * *Feature:* Non-Scaling-Stroke, *Version(s):* All, *Workaround:* None, https://bugzilla.mozilla.org/show_bug.cgi?id=528332

== Webkit ==

  * *Feature:* SVG Filters, *Version(s):* All, *Workaround:* None
  * *Feature:* Save as SVG in Safari, *Version:* Windows, *Workaround:* None, https://bugs.webkit.org/show_bug.cgi?id=25265
  * *Feature:* Non-Scaling-Stroke, *Version(s):* All, *Workaround:* None, https://bugs.webkit.org/show_bug.cgi?id=31438